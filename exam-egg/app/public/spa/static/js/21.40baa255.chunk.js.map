{"version":3,"sources":["../node_modules/antd/es/message/style/index.js","../node_modules/antd/es/message/index.js","webpack:///./node_modules/antd/es/message/style/index.less?277f","../node_modules/antd/es/message/style/index.less","model/addUser/index.js","model/addUser/view.config.js"],"names":["__webpack_require__","defaultTop","messageInstance","getContainer","maxCount","react__WEBPACK_IMPORTED_MODULE_0__","rc_notification__WEBPACK_IMPORTED_MODULE_1__","_icon__WEBPACK_IMPORTED_MODULE_2__","defaultDuration","key","prefixCls","transitionName","api","open","args","duration","undefined","iconType","info","success","error","warning","loading","type","target","closePromise","Promise","resolve","callback","onClose","newInstance","style","top","instance","getMessageInstance","iconNode","theme","notice","content","className","concat","icon","result","removeNotice","then","filled","rejected","promise","config","options","destroy","forEach","warn","__webpack_exports__","module","i","hmr","transform","insertInto","locals","exports","push","namespace","state","viewDatas","titleIndex","titles","writedData","resourceName","idKey","status","views","placeholder","textKey","btns","reducers","changeTitleIndex","_ref","index","JSON","parse","stringify","changeWritedVal","_ref2","value","resource","view_authority_text","find","item","view_id","changeStatus","_ref3","resetWritedVal","_ref4","effects","postData","regenerator_default","a","mark","payload","_ref5","call","put","select","_ref6","identity","postName","_objectSpread2","_identity$find","identity_text","_index","_identity$find2","_identity_text","wrap","_context","prev","next","store","showUser","sent","postNames","code","identity_id","Object","objectSpread","defineProperty","findIndex","message","msg","stop","this"],"mappings":"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","file":"static/js/21.40baa255.chunk.js","sourcesContent":["import '../../style/index.less';\nimport './index.less';","/* global Promise */\nimport * as React from 'react';\nimport Notification from 'rc-notification';\nimport Icon from '../icon';\nvar defaultDuration = 3;\nvar defaultTop;\nvar messageInstance;\nvar key = 1;\nvar prefixCls = 'ant-message';\nvar transitionName = 'move-up';\nvar getContainer;\nvar maxCount;\n\nfunction getMessageInstance(callback) {\n  if (messageInstance) {\n    callback(messageInstance);\n    return;\n  }\n\n  Notification.newInstance({\n    prefixCls: prefixCls,\n    transitionName: transitionName,\n    style: {\n      top: defaultTop\n    },\n    getContainer: getContainer,\n    maxCount: maxCount\n  }, function (instance) {\n    if (messageInstance) {\n      callback(messageInstance);\n      return;\n    }\n\n    messageInstance = instance;\n    callback(instance);\n  });\n}\n\nfunction notice(args) {\n  var duration = args.duration !== undefined ? args.duration : defaultDuration;\n  var iconType = {\n    info: 'info-circle',\n    success: 'check-circle',\n    error: 'close-circle',\n    warning: 'exclamation-circle',\n    loading: 'loading'\n  }[args.type];\n  var target = key++;\n  var closePromise = new Promise(function (resolve) {\n    var callback = function callback() {\n      if (typeof args.onClose === 'function') {\n        args.onClose();\n      }\n\n      return resolve(true);\n    };\n\n    getMessageInstance(function (instance) {\n      var iconNode = React.createElement(Icon, {\n        type: iconType,\n        theme: iconType === 'loading' ? 'outlined' : 'filled'\n      });\n      instance.notice({\n        key: target,\n        duration: duration,\n        style: {},\n        content: React.createElement(\"div\", {\n          className: \"\".concat(prefixCls, \"-custom-content\").concat(args.type ? \" \".concat(prefixCls, \"-\").concat(args.type) : '')\n        }, args.icon ? args.icon : iconType ? iconNode : '', React.createElement(\"span\", null, args.content)),\n        onClose: callback\n      });\n    });\n  });\n\n  var result = function result() {\n    if (messageInstance) {\n      messageInstance.removeNotice(target);\n    }\n  };\n\n  result.then = function (filled, rejected) {\n    return closePromise.then(filled, rejected);\n  };\n\n  result.promise = closePromise;\n  return result;\n}\n\nvar api = {\n  open: notice,\n  config: function config(options) {\n    if (options.top !== undefined) {\n      defaultTop = options.top;\n      messageInstance = null; // delete messageInstance for new defaultTop\n    }\n\n    if (options.duration !== undefined) {\n      defaultDuration = options.duration;\n    }\n\n    if (options.prefixCls !== undefined) {\n      prefixCls = options.prefixCls;\n    }\n\n    if (options.getContainer !== undefined) {\n      getContainer = options.getContainer;\n    }\n\n    if (options.transitionName !== undefined) {\n      transitionName = options.transitionName;\n      messageInstance = null; // delete messageInstance for new transitionName\n    }\n\n    if (options.maxCount !== undefined) {\n      maxCount = options.maxCount;\n      messageInstance = null;\n    }\n  },\n  destroy: function destroy() {\n    if (messageInstance) {\n      messageInstance.destroy();\n      messageInstance = null;\n    }\n  }\n};\n['success', 'info', 'warning', 'error', 'loading'].forEach(function (type) {\n  api[type] = function (content, duration, onClose) {\n    if (typeof duration === 'function') {\n      onClose = duration;\n      duration = undefined;\n    }\n\n    return api.open({\n      content: content,\n      duration: duration,\n      type: type,\n      onClose: onClose\n    });\n  };\n});\napi.warn = api.warning;\nexport default api;","\nvar content = require(\"!!../../../../css-loader/index.js!../../../../less-loader/dist/cjs.js??ref--6-oneOf-5-2!./index.less\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../../style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../../css-loader/index.js!../../../../less-loader/dist/cjs.js??ref--6-oneOf-5-2!./index.less\", function() {\n\t\tvar newContent = require(\"!!../../../../css-loader/index.js!../../../../less-loader/dist/cjs.js??ref--6-oneOf-5-2!./index.less\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","exports = module.exports = require(\"../../../../css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \"/* stylelint-disable at-rule-empty-line-before,at-rule-name-space-after,at-rule-no-unknown */\\n/* stylelint-disable no-duplicate-selectors */\\n/* stylelint-disable */\\n/* stylelint-disable declaration-bang-space-before,no-duplicate-selectors,string-no-newline */\\n.ant-message {\\n  box-sizing: border-box;\\n  margin: 0;\\n  padding: 0;\\n  color: rgba(0, 0, 0, 0.65);\\n  font-size: 14px;\\n  font-variant: tabular-nums;\\n  line-height: 1.5;\\n  list-style: none;\\n  font-feature-settings: 'tnum';\\n  position: fixed;\\n  top: 16px;\\n  left: 0;\\n  z-index: 1010;\\n  width: 100%;\\n  pointer-events: none;\\n}\\n.ant-message-notice {\\n  padding: 8px;\\n  text-align: center;\\n}\\n.ant-message-notice:first-child {\\n  margin-top: -8px;\\n}\\n.ant-message-notice-content {\\n  display: inline-block;\\n  padding: 10px 16px;\\n  background: #fff;\\n  border-radius: 2px;\\n  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);\\n  pointer-events: all;\\n}\\n.ant-message-success .anticon {\\n  color: #52c41a;\\n}\\n.ant-message-error .anticon {\\n  color: #f5222d;\\n}\\n.ant-message-warning .anticon {\\n  color: #faad14;\\n}\\n.ant-message-info .anticon,\\n.ant-message-loading .anticon {\\n  color: #1890ff;\\n}\\n.ant-message .anticon {\\n  position: relative;\\n  top: 1px;\\n  margin-right: 8px;\\n  font-size: 16px;\\n}\\n.ant-message-notice.move-up-leave.move-up-leave-active {\\n  overflow: hidden;\\n  animation-name: MessageMoveOut;\\n  animation-duration: 0.3s;\\n}\\n@keyframes MessageMoveOut {\\n  0% {\\n    max-height: 150px;\\n    padding: 8px;\\n    opacity: 1;\\n  }\\n  100% {\\n    max-height: 0;\\n    padding: 0;\\n    opacity: 0;\\n  }\\n}\\n\", \"\"]);\n\n// exports\n","import viewDatas from './view.config'\r\nimport * as postNames from '../../service/userManger'\r\nimport {message} from 'antd'\r\nexport default {\r\n    namespace:'addUser',\r\n    state:{\r\n        viewDatas\r\n    },\r\n    reducers:{\r\n        changeTitleIndex(state,{index,titleIndex}){\r\n            state.viewDatas[index].titleIndex = titleIndex;\r\n            return JSON.parse(JSON.stringify(state));\r\n        },\r\n        changeWritedVal(state,{index,key,value,resource}){\r\n            if(key === 'view_id'){\r\n                let view_authority_text = resource.find(item=>item.view_id === value).view_authority_text;\r\n                state.viewDatas[index].writedData['view_authority_text'] = view_authority_text;\r\n            }\r\n            state.viewDatas[index].writedData[key] = value;\r\n            return JSON.parse(JSON.stringify(state));\r\n        },\r\n        changeStatus(state,{index,value}){\r\n            state.viewDatas[index].status = value;\r\n            return JSON.parse(JSON.stringify(state));\r\n        },\r\n        resetWritedVal(state,{index}){\r\n            state.viewDatas[index].writedData = {};\r\n            return JSON.parse(JSON.stringify(state));\r\n        }\r\n    },\r\n    effects:{\r\n        *postData(payload,{call,put,select}){\r\n            let {identity} = yield select(store=>store.showUser);\r\n            let {\r\n                postName,\r\n                index,\r\n                writedData,\r\n                resourceName,\r\n                resource,\r\n                titleIndex,\r\n                idKey\r\n            } = payload;\r\n            yield put({type:'changeStatus',index,value:3});\r\n            let result = yield call(postNames[postName],writedData);\r\n            if(result.code === 1){\r\n                yield put({type:'changeStatus',index,value:1});\r\n                if(titleIndex === 0){\r\n                    if(resourceName === 'user' && writedData.identity_id){\r\n                        let {identity_text} = identity.find(item=>item.identity_id === writedData.identity_id);\r\n                        resource.push({...writedData,[idKey]:result[idKey],identity_text});\r\n                    }else{\r\n                        resource.push({...writedData,[idKey]:result[idKey]});\r\n                    }\r\n                }else if(titleIndex === 1){\r\n                    let index = resource.findIndex(item=>item[idKey] === writedData[idKey]);\r\n                    if(resourceName === 'user' && writedData.identity_id){\r\n                        let {identity_text} = identity.find(item=>item.identity_id === writedData.identity_id);\r\n                        resource[index] = {...resource[index],...writedData,identity_text};\r\n                    }else{\r\n                        resource[index] = {...resource[index],...writedData};\r\n                    }\r\n                }\r\n                yield put({type:'showUser/changeState',[resourceName]:resource})\r\n                message.success(result.msg,1);\r\n            }else{\r\n                yield put({type:'changeStatus',index,value:2});\r\n                message.error(result.msg,1);\r\n            }\r\n\r\n        }\r\n    }\r\n}","export default [\r\n    //添加更新用户\r\n    {\r\n        titleIndex:0,\r\n        titles:['添加用户','更新用户'],\r\n        writedData:{},\r\n        resourceName:'user',\r\n        idKey:'user_id',\r\n        status:0, // 0未提交，1提交成功,2,提交失败，3，提交中\r\n        views:[\r\n            {\r\n                type:'select',\r\n                placeholder:'请选择身份id',\r\n                titleIndex:[1],\r\n                resourceName:'user',\r\n                idKey:'user_id',\r\n                textKey:'user_name'\r\n            },\r\n            {\r\n                type:'input',\r\n                placeholder:'请输入用户名',\r\n                titleIndex:[0,1],\r\n                idKey:'user_name'\r\n            },\r\n            {\r\n                type:'input',\r\n                placeholder:'请输入密码',\r\n                titleIndex:[0,1],\r\n                idKey:'user_pwd'\r\n            },\r\n            {\r\n                type:'select',\r\n                placeholder:'请选择身份id',\r\n                titleIndex:[0,1],\r\n                resourceName:'identity',\r\n                idKey:'identity_id',\r\n                textKey:'identity_text'\r\n            }\r\n        ],\r\n        btns:['addUser','updateUser']\r\n    },\r\n    // 添加更新身份\r\n    {\r\n        titleIndex:0,\r\n        titles:['添加身份'],\r\n        writedData:{},\r\n        resourceName:'identity',\r\n        idKey:'identity_id',\r\n        status:0, // 0未提交，1提交成功,2,提交失败，3，提交中\r\n        views:[\r\n            {\r\n                type:'input',\r\n                placeholder:'请输入身份名称',\r\n                titleIndex:[0,1],\r\n                idKey:'identity_text'\r\n            }\r\n        ],\r\n        btns:['addIdentity']\r\n    },\r\n    // 添加更新api接口权限\r\n    {\r\n        titleIndex:0,\r\n        titles:['添加api接口权限'],\r\n        writedData:{},\r\n        resourceName:'api_authority',\r\n        idKey:'api_authority_id',\r\n        status:0, // 0未提交，1提交成功,2,提交失败，3，提交中\r\n        views:[\r\n            {\r\n                type:'input',\r\n                placeholder:'请输入api接口权限名称',\r\n                titleIndex:[0,1],\r\n                idKey:'api_authority_text'\r\n            },\r\n            {\r\n                type:'input',\r\n                placeholder:'请输入api接口权限url',\r\n                titleIndex:[0,1],\r\n                idKey:'api_authority_url'\r\n            },\r\n            {\r\n                type:'input',\r\n                placeholder:'请输入api接口权限方法',\r\n                titleIndex:[0,1],\r\n                idKey:'api_authority_method'\r\n            }\r\n        ],\r\n        btns:['addAuthorityApi']\r\n    },\r\n    // 添加更新视图接口权限\r\n    {\r\n        titleIndex:0,\r\n        titles:['添加视图接口权限'],\r\n        writedData:{},\r\n        resourceName:'view_authority',\r\n        idKey:'view_authority_id',\r\n        status:0, // 0未提交，1提交成功,2,提交失败，3，提交中\r\n        views:[\r\n            {\r\n                type:'select',\r\n                placeholder:'请选择已有视图',\r\n                titleIndex:[0,1],\r\n                resourceName:'views',\r\n                idKey:'view_id',\r\n                textKey:'view_authority_text'\r\n            }\r\n        ],\r\n        btns:['addAuthorityView']\r\n    },\r\n    // 给身份设置api接口权限\r\n    {\r\n        titleIndex:0,\r\n        titles:['给身份设置api接口权限'],\r\n        writedData:{},\r\n        resourceName:'identity_api_authority_relatioin',\r\n        idKey:'identity_api_authority_relation_id',\r\n        status:0, // 0未提交，1提交成功,2,提交失败，3，提交中\r\n        views:[\r\n            {\r\n                type:'select',\r\n                placeholder:'请选择身份id',\r\n                titleIndex:[0,1],\r\n                resourceName:'identity',\r\n                idKey:'identity_id',\r\n                textKey:'identity_text'\r\n            },\r\n            {\r\n                type:'select',\r\n                placeholder:'请选择api接口权限id',\r\n                titleIndex:[0,1],\r\n                resourceName:'api_authority',\r\n                idKey:'api_authority_id',\r\n                textKey:'api_authority_text'\r\n            }\r\n        ],\r\n        btns:['setIdentityApi']\r\n    },\r\n    // 给身份设置视图权限\r\n    {\r\n        titleIndex:0,\r\n        titles:['给身份设置视图权限'],\r\n        writedData:{},\r\n        resourceName:'identity_view_authority_relatioin',\r\n        idKey:'identity_view_authority_relation_id',\r\n        status:0, // 0未提交，1提交成功,2,提交失败，3，提交中\r\n        views:[\r\n            {\r\n                type:'select',\r\n                placeholder:'请选择身份id',\r\n                titleIndex:[0,1],\r\n                resourceName:'identity',\r\n                idKey:'identity_id',\r\n                textKey:'identity_text'\r\n            },\r\n            {\r\n                type:'select',\r\n                placeholder:'请选择视图权限id',\r\n                titleIndex:[0,1],\r\n                resourceName:'view_authority',\r\n                idKey:'view_authority_id',\r\n                textKey:'view_authority_text'\r\n            }\r\n        ],\r\n        btns:['setIdentityView']\r\n    }\r\n]"],"sourceRoot":""}