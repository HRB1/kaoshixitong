{"version":3,"sources":["model/role/index.js"],"names":["initState","table","page","pageSize","total","data","isPersonalType","__webpack_exports__","namespace","state","reducers","changeTable","action","Object","C_Users_yihan_Desktop_react_exam_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread__WEBPACK_IMPORTED_MODULE_1__","payload","effects","fetch","C_Users_yihan_Desktop_react_exam_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default","a","mark","_ref","_ref2","call","put","params","response","wrap","_context","prev","next","showIdentity","sent","type","stop","this","addRole","_ref3","_ref4","identity_text","_context2","addIdentity","abrupt","Promise","resolve"],"mappings":"yIAEMA,EAAY,CAChBC,MAAO,CACLC,KAAM,EACNC,SAAU,GACVC,MAAO,EACPC,KAAM,IAERC,eAAgB,MAIHC,EAAA,SACbC,UAAW,OAEXC,MAAOT,EAEPU,SAAU,CACRC,YADQ,SACIF,EAAOG,GACjB,OAAOC,OAAAC,EAAA,EAAAD,CAAA,GACFJ,EADL,CAEER,MAAMY,OAAAC,EAAA,EAAAD,CAAA,GACDJ,EAAMR,MACNW,EAAOG,aAMlBC,QAAS,CACNC,MADMC,EAAAC,EAAAC,KAAA,SAAAH,EAAAI,EAAAC,GAAA,IAAAP,EAAAQ,EAAAC,EAAAC,EAAAC,EAAA,OAAAR,EAAAC,EAAAQ,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,OAOY,OANVf,EADFM,EACEN,QAAWQ,EADbD,EACaC,KAAMC,EADnBF,EACmBE,IAClBC,EAFDZ,OAAAC,EAAA,EAAAD,CAAA,CAGHX,KAAMF,EAAUC,MAAMC,KACtBC,SAAUH,EAAUC,MAAME,UACvBY,GALAa,EAAAE,KAAA,EAOkBP,EAAKQ,eAAcN,GAPrC,OAQL,OADMC,EAPDE,EAAAI,KAAAJ,EAAAE,KAAA,EAQCN,EAAI,CACRS,KAAM,cACNlB,QAAS,CACPV,KAAMqB,EAASrB,QAXd,wBAAAuB,EAAAM,SAAAjB,EAAAkB,QAeNC,QAfMlB,EAAAC,EAAAC,KAAA,SAAAgB,EAAAC,EAAAC,GAAA,IAAAC,EAAAhB,EAAAC,EAAAC,EAAAC,EAAA,OAAAR,EAAAC,EAAAQ,KAAA,SAAAa,GAAA,cAAAA,EAAAX,KAAAW,EAAAV,MAAA,OAmBY,OAJRS,EAfJF,EAeIE,cAAiBhB,EAfrBe,EAeqBf,KAAMC,EAf3Bc,EAe2Bd,IAC1BC,EAAS,CACbc,iBAjBGC,EAAAV,KAAA,EAmBkBP,EAAKkB,cAAahB,GAnBpC,OAoBL,OADMC,EAnBDc,EAAAR,KAAAQ,EAAAV,KAAA,EAoBCN,EAAI,CAACS,KAAM,SAAU,IApBtB,cAAAO,EAAAE,OAAA,SAqBEC,QAAQC,QAAQlB,IArBlB,wBAAAc,EAAAN,SAAAE,EAAAD","file":"static/js/23.c30917c3.chunk.js","sourcesContent":["import {showIdentity, addIdentity} from '@/service/userManger'\r\n\r\nconst initState = {\r\n  table: {\r\n    page: 1,\r\n    pageSize: 10,\r\n    total: 0,\r\n    data: [],\r\n  },\r\n  isPersonalType: null,\r\n};\r\n\r\n\r\nexport default {\r\n  namespace: 'role',\r\n\r\n  state: initState,\r\n\r\n  reducers: {\r\n    changeTable(state, action) {\r\n      return {\r\n        ...state,\r\n        table: {\r\n          ...state.table,\r\n          ...action.payload,\r\n        },\r\n      };\r\n    }\r\n  },\r\n\r\n  effects: {\r\n    *fetch ({payload}, {call, put}) {\r\n      const params = {\r\n        page: initState.table.page,\r\n        pageSize: initState.table.pageSize,\r\n        ...payload\r\n      };\r\n      const response = yield call(showIdentity, params);\r\n      yield put({\r\n        type: 'changeTable',\r\n        payload: {\r\n          data: response.data\r\n        }\r\n      })\r\n    },\r\n    *addRole ({identity_text}, {call, put}) {\r\n      const params = {\r\n        identity_text\r\n      };\r\n      const response = yield call(addIdentity, params);\r\n      yield put({type: 'fetch'}, {})\r\n      return Promise.resolve(response)\r\n    },\r\n  }\r\n}"],"sourceRoot":""}